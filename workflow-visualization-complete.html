<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linear Meeting Intelligence - Complete Workflow</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f7fa;
            color: #1a1a1a;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 30px;
        }
        
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
        }
        
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 40px;
        }
        
        .workflow {
            display: flex;
            flex-direction: column;
            gap: 20px;
            position: relative;
            padding: 20px;
        }
        
        .external-section {
            background: #e8f4f8;
            border: 2px dashed #5dade2;
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        .external-label {
            font-weight: 600;
            color: #2980b9;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .n8n-section {
            background: #f0f9ff;
            border: 2px solid #3498db;
            border-radius: 12px;
            padding: 20px;
        }
        
        .n8n-label {
            font-weight: 600;
            color: #2c5aa0;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .node {
            background: white;
            border: 2px solid #e1e4e8;
            border-radius: 8px;
            padding: 20px;
            position: relative;
            transition: all 0.3s ease;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        
        .node:hover {
            border-color: #4a90e2;
            box-shadow: 0 4px 12px rgba(74,144,226,0.15);
            transform: translateY(-2px);
        }
        
        .node-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 10px;
        }
        
        .node-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            flex-shrink: 0;
        }
        
        .krisp { background: #7c3aed; }
        .zapier { background: #ff6b35; }
        .webhook { background: #ff6b6b; }
        .linear { background: #5e72e4; }
        .code { background: #48bb78; }
        .github { background: #24292e; }
        .http { background: #f6ad55; }
        .claude { background: #9f7aea; }
        .merge { background: #38b2ac; }
        .response { background: #4299e1; }
        
        .node-title {
            font-weight: 600;
            font-size: 16px;
            color: #2c3e50;
        }
        
        .node-description {
            color: #718096;
            font-size: 14px;
            line-height: 1.5;
        }
        
        .node-details {
            margin-top: 12px;
            padding-top: 12px;
            border-top: 1px solid #e1e4e8;
            font-size: 13px;
            color: #718096;
        }
        
        .arrow {
            width: 2px;
            height: 40px;
            background: #cbd5e0;
            margin: -20px auto;
            position: relative;
            z-index: 1;
        }
        
        .arrow::after {
            content: '‚ñº';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            color: #cbd5e0;
            font-size: 12px;
        }
        
        .split-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin: 20px 0;
            position: relative;
        }
        
        .split-path {
            border: 2px dashed #e1e4e8;
            border-radius: 12px;
            padding: 20px;
            background: #f8fafc;
        }
        
        .path-label {
            font-weight: 600;
            color: #4a90e2;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .decision-point {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            margin: 20px 0;
            font-weight: 500;
            color: #92400e;
        }
        
        .legend {
            display: flex;
            gap: 20px;
            margin-top: 40px;
            padding: 20px;
            background: #f8fafc;
            border-radius: 8px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .legend-icon {
            width: 24px;
            height: 24px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
        }
        
        .feature-list {
            background: #f0fdf4;
            border: 1px solid #86efac;
            border-radius: 8px;
            padding: 20px;
            margin: 30px 0;
        }
        
        .feature-list h3 {
            color: #166534;
            margin-top: 0;
        }
        
        .feature-list ul {
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .feature-list li {
            margin: 8px 0;
            color: #15803d;
        }
        
        @media (max-width: 768px) {
            .split-container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Linear Meeting Intelligence - Complete Workflow</h1>
        <p class="subtitle">From Meeting Recording ‚Üí Transcript ‚Üí Intelligent Linear Issue Management</p>
        
        <!-- External Services Section -->
        <div class="external-section">
            <div class="external-label">
                <span>üåê</span> External Services (Outside n8n)
            </div>
            
            <div class="workflow">
                <!-- Krisp -->
                <div class="node">
                    <div class="node-header">
                        <div class="node-icon krisp">üéôÔ∏è</div>
                        <div>
                            <div class="node-title">Krisp Meeting Recording</div>
                            <div class="node-description">Records meeting audio and generates transcript</div>
                        </div>
                    </div>
                    <div class="node-details">
                        <strong>Service:</strong> Krisp AI<br>
                        <strong>Action:</strong> Automatic transcription of meetings<br>
                        <strong>Output:</strong> Meeting title + full transcript
                    </div>
                </div>
                
                <div class="arrow"></div>
                
                <!-- Zapier -->
                <div class="node">
                    <div class="node-header">
                        <div class="node-icon zapier">‚ö°</div>
                        <div>
                            <div class="node-title">Zapier Integration</div>
                            <div class="node-description">Triggered when Krisp creates new transcript</div>
                        </div>
                    </div>
                    <div class="node-details">
                        <strong>Trigger:</strong> New Krisp transcript<br>
                        <strong>Action:</strong> Send webhook to n8n<br>
                        <strong>Payload:</strong> meeting_title, transcript
                    </div>
                </div>
            </div>
        </div>
        
        <!-- n8n Workflow Section -->
        <div class="n8n-section">
            <div class="n8n-label">
                <span>üîß</span> n8n Workflow
            </div>
            
            <div class="workflow">
                <!-- Webhook -->
                <div class="node">
                    <div class="node-header">
                        <div class="node-icon webhook">üåê</div>
                        <div>
                            <div class="node-title">Webhook Trigger</div>
                            <div class="node-description">Receives meeting data from Zapier</div>
                        </div>
                    </div>
                    <div class="node-details">
                        <strong>Method:</strong> POST<br>
                        <strong>Path:</strong> /krisp-transcript<br>
                        <strong>Expected:</strong> meeting_title, transcript
                    </div>
                </div>
                
                <div class="arrow"></div>
                
                <!-- Get Linear Issues -->
                <div class="node">
                    <div class="node-header">
                        <div class="node-icon linear">üìã</div>
                        <div>
                            <div class="node-title">Linear: Get All Issues</div>
                            <div class="node-description">Fetch all active issues for matching</div>
                        </div>
                    </div>
                    <div class="node-details">
                        <strong>Operation:</strong> getAll<br>
                        <strong>Filters:</strong> Active issues only<br>
                        <strong>Fields:</strong> ID, title, description, assignee, state
                    </div>
                </div>
                
                <div class="arrow"></div>
                
                <!-- Two parallel paths merge -->
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin: 20px 0;">
                    <div>
                        <!-- GitHub Fetch -->
                        <div class="node">
                            <div class="node-header">
                                <div class="node-icon github">üìÑ</div>
                                <div>
                                    <div class="node-title">Fetch GitHub Prompt</div>
                                    <div class="node-description">Get prompt template from GitHub</div>
                                </div>
                            </div>
                            <div class="node-details">
                                <strong>File:</strong> linear-meeting-prompt.md<br>
                                <strong>Contains:</strong> Claude instructions + config
                            </div>
                        </div>
                    </div>
                    
                    <div>
                        <!-- Format Linear Data -->
                        <div class="node">
                            <div class="node-header">
                                <div class="node-icon code">‚öôÔ∏è</div>
                                <div>
                                    <div class="node-title">Format Linear Data</div>
                                    <div class="node-description">Prepare webhook + Linear data</div>
                                </div>
                            </div>
                            <div class="node-details">
                                <strong>Combines:</strong> Webhook data + Linear issues<br>
                                <strong>Output:</strong> Structured data object
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="arrow"></div>
                
                <!-- Merge -->
                <div class="node">
                    <div class="node-header">
                        <div class="node-icon merge">üîÄ</div>
                        <div>
                            <div class="node-title">Merge Data</div>
                            <div class="node-description">Combine prompt template with meeting data</div>
                        </div>
                    </div>
                    <div class="node-details">
                        <strong>Mode:</strong> Combine by position<br>
                        <strong>Output:</strong> Single merged object
                    </div>
                </div>
                
                <div class="arrow"></div>
                
                <!-- Prompt Builder -->
                <div class="node">
                    <div class="node-header">
                        <div class="node-icon code">üîß</div>
                        <div>
                            <div class="node-title">Prompt Builder</div>
                            <div class="node-description">Build Claude prompt with all context</div>
                        </div>
                    </div>
                    <div class="node-details">
                        <strong>Actions:</strong> Extract config, replace placeholders<br>
                        <strong>Output:</strong> Complete prompt + Claude request body
                    </div>
                </div>
                
                <div class="arrow"></div>
                
                <!-- Claude API -->
                <div class="node">
                    <div class="node-header">
                        <div class="node-icon http">ü§ñ</div>
                        <div>
                            <div class="node-title">Claude API (HTTP)</div>
                            <div class="node-description">Analyze transcript & match issues</div>
                        </div>
                    </div>
                    <div class="node-details">
                        <strong>Model:</strong> Dynamic from GitHub config<br>
                        <strong>Task:</strong> Extract action items, match with >80% confidence
                    </div>
                </div>
                
                <div class="arrow"></div>
                
                <!-- Parse Response -->
                <div class="node">
                    <div class="node-header">
                        <div class="node-icon code">üìä</div>
                        <div>
                            <div class="node-title">Parse Claude Response</div>
                            <div class="node-description">Split items into create vs update</div>
                        </div>
                    </div>
                    <div class="node-details">
                        <strong>Output:</strong> itemsToCreate[], itemsToUpdate[]<br>
                        <strong>Includes:</strong> Attendees, decisions, follow-ups
                    </div>
                </div>
                
                <div class="decision-point">
                    üéØ Intelligent Matching: Each action item is classified as CREATE (new) or UPDATE (>80% match)
                </div>
                
                <!-- Split Paths -->
                <div class="split-container">
                    <!-- Create Path -->
                    <div class="split-path">
                        <div class="path-label">‚ûï CREATE PATH</div>
                        
                        <div class="node">
                            <div class="node-header">
                                <div class="node-icon code">üìù</div>
                                <div>
                                    <div class="node-title">Split Create Items</div>
                                    <div class="node-description">Output each new item</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow"></div>
                        
                        <div class="node">
                            <div class="node-header">
                                <div class="node-icon linear">‚ûï</div>
                                <div>
                                    <div class="node-title">Linear: Create Issue</div>
                                    <div class="node-description">Create new Linear issues</div>
                                </div>
                            </div>
                            <div class="node-details">
                                <strong>Sets:</strong> Title, description, priority, due date
                            </div>
                        </div>
                    </div>
                    
                    <!-- Update Path -->
                    <div class="split-path">
                        <div class="path-label">üîÑ UPDATE PATH</div>
                        
                        <div class="node">
                            <div class="node-header">
                                <div class="node-icon code">üìù</div>
                                <div>
                                    <div class="node-title">Split Update Items</div>
                                    <div class="node-description">Output matched items</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow"></div>
                        
                        <div class="node">
                            <div class="node-header">
                                <div class="node-icon linear">üîç</div>
                                <div>
                                    <div class="node-title">Linear: Get Issue</div>
                                    <div class="node-description">Fetch current issue data</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="arrow"></div>
                        
                        <div class="node">
                            <div class="node-header">
                                <div class="node-icon linear">üîÑ</div>
                                <div>
                                    <div class="node-title">Linear: Update Issue</div>
                                    <div class="node-description">Append meeting context</div>
                                </div>
                            </div>
                            <div class="node-details">
                                <strong>Updates:</strong> Description (append), priority, due date
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Merge Results -->
                <div class="node">
                    <div class="node-header">
                        <div class="node-icon merge">üîÄ</div>
                        <div>
                            <div class="node-title">Merge Results</div>
                            <div class="node-description">Combine outputs from both paths</div>
                        </div>
                    </div>
                </div>
                
                <div class="arrow"></div>
                
                <!-- Format Response -->
                <div class="node">
                    <div class="node-header">
                        <div class="node-icon code">üìÑ</div>
                        <div>
                            <div class="node-title">Format Response</div>
                            <div class="node-description">Build comprehensive summary</div>
                        </div>
                    </div>
                    <div class="node-details">
                        <strong>Includes:</strong> Created/updated counts, errors, attendees
                    </div>
                </div>
                
                <div class="arrow"></div>
                
                <!-- Webhook Response -->
                <div class="node">
                    <div class="node-header">
                        <div class="node-icon response">‚úÖ</div>
                        <div>
                            <div class="node-title">Respond to Webhook</div>
                            <div class="node-description">Return results to Zapier</div>
                        </div>
                    </div>
                    <div class="node-details">
                        <strong>Status:</strong> Success/partial_success<br>
                        <strong>Data:</strong> Complete operation summary
                    </div>
                </div>
            </div>
        </div>
        
        <div class="feature-list">
            <h3>üß† Key Intelligence Features</h3>
            <ul>
                <li><strong>Smart Duplicate Prevention:</strong> Claude analyzes existing issues with >80% confidence matching</li>
                <li><strong>Context Preservation:</strong> Meeting details appended to existing issues, not replaced</li>
                <li><strong>Flexible Configuration:</strong> Model and parameters controlled via GitHub markdown</li>
                <li><strong>Comprehensive Tracking:</strong> Captures attendees, decisions, and follow-up items</li>
                <li><strong>Error Resilience:</strong> Handles failures gracefully with detailed error reporting</li>
                <li><strong>Version Control:</strong> Prompt templates stored in GitHub for easy iteration</li>
            </ul>
        </div>
        
        <div class="legend">
            <div class="legend-item">
                <div class="legend-icon krisp">üéôÔ∏è</div>
                <span>Krisp (External)</span>
            </div>
            <div class="legend-item">
                <div class="legend-icon zapier">‚ö°</div>
                <span>Zapier (External)</span>
            </div>
            <div class="legend-item">
                <div class="legend-icon webhook">üåê</div>
                <span>Webhook</span>
            </div>
            <div class="legend-item">
                <div class="legend-icon linear">üìã</div>
                <span>Linear Node</span>
            </div>
            <div class="legend-item">
                <div class="legend-icon code">‚öôÔ∏è</div>
                <span>Code Node</span>
            </div>
            <div class="legend-item">
                <div class="legend-icon github">üìÑ</div>
                <span>GitHub</span>
            </div>
            <div class="legend-item">
                <div class="legend-icon http">üîó</div>
                <span>HTTP Request</span>
            </div>
            <div class="legend-item">
                <div class="legend-icon merge">üîÄ</div>
                <span>Merge Node</span>
            </div>
        </div>
    </div>
</body>
</html>